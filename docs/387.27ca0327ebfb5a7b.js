"use strict";(self.webpackChunkpoc_gpt=self.webpackChunkpoc_gpt||[]).push([[387],{22387:(I,d,e)=>{e.r(d),e.d(d,{LoginModule:()=>L});var u=e(36895),l=e(30752),p=e(78182),t=e(94650),h=e(85657),g=e(20095),m=e(86616),f=e(80529);let v=(()=>{class n{constructor(o,i){this.tokenService=o,this.httpClient=i}doCall(){const o=this.tokenService.getToken();return this.httpClient.get("https://tdm-api.hp.gda.edf.fr/ipnn_kmu_rfp/v1/api/sites",{headers:{Authorization:`Bearer ${o}`}})}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(m.B),t.LFG(f.eN))};static#n=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y=e(59549),C=e(284),c=e(24006);const M=[{path:"",component:(()=>{class n{constructor(o,i,s,a){this.cookieService=o,this.router=i,this.keyService=s,this.dipnnService=a,this.value="",this.apiKey=""}ngOnInit(){console.log("on INIT"),this.dipnnService.doCall().subscribe(o=>console.log({resp:o}))}onSubmit(){this.cookieService.set(p.bl,this.value),this.keyService.init(),this.router.navigate(["/llm"])}onInput(o){"Enter"==o.key&&this.onSubmit()}onCustomKeySubmit(){this.cookieService.set(p.ah,this.apiKey),this.keyService.init(),console.log("qsdf"),this.router.navigate(["/llm"])}onCustomKeyInput(o){"Enter"==o.key&&this.onCustomKeySubmit()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h.N),t.Y36(l.F0),t.Y36(g.B),t.Y36(v))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:5,vars:2,consts:[[1,"password-form"],[1,"chat-input-field"],["matInput","","type","text","placeholder","Mot de passe ?",3,"ngModel","ngModelChange","keydown"],["matInput","","type","text","placeholder","Ou cl\xe9 API ?",3,"ngModel","ngModelChange","keydown"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"input",2),t.NdJ("ngModelChange",function(r){return s.value=r})("keydown",function(r){return s.onInput(r)}),t.qZA()(),t.TgZ(3,"mat-form-field",1)(4,"input",3),t.NdJ("ngModelChange",function(r){return s.apiKey=r})("keydown",function(r){return s.onCustomKeyInput(r)}),t.qZA()()()),2&i&&(t.xp6(2),t.Q6J("ngModel",s.value),t.xp6(2),t.Q6J("ngModel",s.apiKey))},dependencies:[y.KE,C.Nt,c.Fj,c.JJ,c.On],styles:["[_nghost-%COMP%]{display:block;background-color:#d7d0c9;background-image:url(background.0e2e4ccb6f8f5a46.png);min-width:100vw;min-height:100vh}[_nghost-%COMP%]   .password-form[_ngcontent-%COMP%]{position:absolute;top:40%;margin:auto;width:100%}[_nghost-%COMP%]   .password-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:auto;display:block;width:50%}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper{background:rgb(245,245,245)}"]})}return n})(),children:[]},{path:"**",redirectTo:""}];let k=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(M),l.Bz]})}return n})();var S=e(15847);let L=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[u.ez,k,S.m]})}return n})()}}]);