import { coerceBooleanProperty } from "@angular/cdk/coercion";
import { Component, ViewEncapsulation, ChangeDetectionStrategy, ContentChildren, ViewChild, Inject, Optional, ANIMATION_MODULE_TYPE, Input } from "@angular/core";
import { MAT_TAB_GROUP, _MatTabGroupBase, MAT_TABS_CONFIG } from "@angular/material/tabs";
import { EsnTab } from "./tab";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/core";
import * as i3 from "@angular/cdk/a11y";
import * as i4 from "@angular/cdk/portal";
import * as i5 from "./tab-body";
import * as i6 from "./tab-header";
import * as i7 from "./tab-label-wrapper";
export class EsnTabGroup extends _MatTabGroupBase {
    constructor(elementRef, changeDetectorRef, defaultConfig, animationMode) {
        super(elementRef, changeDetectorRef, defaultConfig, animationMode);
        this._fitInkBarToContent = false;
        this._stretchTabs = true;
        this.fitInkBarToContent =
            defaultConfig && defaultConfig.fitInkBarToContent != null
                ? defaultConfig.fitInkBarToContent
                : false;
    }
    /** Whether the ink bar should fit its width to the size of the tab label content. */
    get fitInkBarToContent() {
        return this._fitInkBarToContent;
    }
    set fitInkBarToContent(v) {
        this._fitInkBarToContent = coerceBooleanProperty(v);
        this._changeDetectorRef.markForCheck();
    }
    /** Whether tabs should be stretched to fill the header. */
    get stretchTabs() {
        return this._stretchTabs;
    }
    set stretchTabs(v) {
        this._stretchTabs = coerceBooleanProperty(v);
    }
}
EsnTabGroup.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.10", ngImport: i0, type: EsnTabGroup, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: MAT_TABS_CONFIG, optional: true }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.ɵɵFactoryTarget.Component });
EsnTabGroup.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.10", type: EsnTabGroup, selector: "esn-tab-group", inputs: { color: "color", disableRipple: "disableRipple", fitInkBarToContent: "fitInkBarToContent", stretchTabs: ["mat-stretch-tabs", "stretchTabs"] }, host: { properties: { "class.mat-tab-group-dynamic-height": "dynamicHeight", "class.mat-tab-group-inverted-header": "headerPosition === \"below\"", "class.mat-mdc-tab-group-stretch-tabs": "stretchTabs" }, classAttribute: "mat-tab-group" }, providers: [
        {
            provide: MAT_TAB_GROUP,
            useExisting: EsnTabGroup,
        },
    ], queries: [{ propertyName: "_allTabs", predicate: EsnTab, descendants: true }], viewQueries: [{ propertyName: "_tabBodyWrapper", first: true, predicate: ["tabBodyWrapper"], descendants: true }, { propertyName: "_tabHeader", first: true, predicate: ["tabHeader"], descendants: true }], exportAs: ["esnTabGroup"], usesInheritance: true, ngImport: i0, template: "<mat-tab-header\r\n  #tabHeader\r\n  [selectedIndex]=\"selectedIndex || 0\"\r\n  [disableRipple]=\"disableRipple\"\r\n  (indexFocused)=\"_focusChanged($event)\"\r\n  (selectFocusedIndex)=\"selectedIndex = $event\"\r\n>\r\n  <div\r\n    class=\"mdc-tab mat-mdc-tab mat-mdc-focus-indicator\"\r\n    #tabNode\r\n    role=\"tab\"\r\n    matTabLabelWrapper\r\n    cdkMonitorElementFocus\r\n    *ngFor=\"let tab of _tabs; let i = index\"\r\n    [id]=\"_getTabLabelId(i)\"\r\n    [attr.tabIndex]=\"_getTabIndex(i)\"\r\n    [attr.aria-posinset]=\"i + 1\"\r\n    [attr.aria-setsize]=\"_tabs.length\"\r\n    [attr.aria-controls]=\"_getTabContentId(i)\"\r\n    [attr.aria-selected]=\"selectedIndex === i\"\r\n    [attr.aria-label]=\"tab.ariaLabel || null\"\r\n    [attr.aria-labelledby]=\"(!tab.ariaLabel && tab.ariaLabelledby) ? tab.ariaLabelledby : null\"\r\n    [class.mdc-tab--active]=\"selectedIndex === i\"\r\n    [ngClass]=\"tab.labelClass\"\r\n    [disabled]=\"tab.disabled\"\r\n    [fitInkBarToContent]=\"fitInkBarToContent\"\r\n    (click)=\"_handleClick(tab, tabHeader, i)\"\r\n    (cdkFocusChange)=\"_tabFocusChanged($event, i)\"\r\n  >\r\n    <span class=\"mdc-tab__ripple\"></span>\r\n\r\n    <!-- Needs to be a separate element, because we can't put\r\n         `overflow: hidden` on tab due to the ink bar. -->\r\n    <div\r\n      class=\"mat-mdc-tab-ripple\"\r\n      mat-ripple\r\n      [matRippleTrigger]=\"tabNode\"\r\n      [matRippleDisabled]=\"tab.disabled || disableRipple\"\r\n    ></div>\r\n\r\n    <span class=\"mdc-tab__content\">\r\n      <span class=\"mdc-tab__text-label\">\r\n        <!-- If there is a label template, use it. -->\r\n        <ng-template [ngIf]=\"tab.templateLabel\" [ngIfElse]=\"tabTextLabel\">\r\n          <ng-template [cdkPortalOutlet]=\"tab.templateLabel\"></ng-template>\r\n        </ng-template>\r\n\r\n        <!-- If there is not a label template, fall back to the text label. -->\r\n        <ng-template #tabTextLabel>{{tab.textLabel}}</ng-template>\r\n      </span>\r\n    </span>\r\n  </div>\r\n</mat-tab-header>\r\n\r\n<div\r\n  class=\"mat-mdc-tab-body-wrapper\"\r\n  [class._mat-animation-noopable]=\"_animationMode === 'NoopAnimations'\"\r\n  #tabBodyWrapper\r\n>\r\n  <mat-tab-body\r\n    role=\"tabpanel\"\r\n    *ngFor=\"let tab of _tabs; let i = index\"\r\n    [id]=\"_getTabContentId(i)\"\r\n    [attr.tabindex]=\"(contentTabIndex != null && selectedIndex === i) ? contentTabIndex : null\"\r\n    [attr.aria-labelledby]=\"_getTabLabelId(i)\"\r\n    [class.mat-mdc-tab-body-active]=\"selectedIndex === i\"\r\n    [ngClass]=\"tab.bodyClass\"\r\n    [content]=\"tab.content!\"\r\n    [position]=\"tab.position!\"\r\n    [origin]=\"tab.origin\"\r\n    [animationDuration]=\"animationDuration\"\r\n    [preserveContent]=\"preserveContent\"\r\n    (_onCentered)=\"_removeTabBodyWrapperHeight()\"\r\n    (_onCentering)=\"_setTabBodyWrapperHeight($event)\"\r\n  >\r\n  </mat-tab-body>\r\n</div>\r\n", styles: [".mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:.15s color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:.15s color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:.1s}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:.25s transform cubic-bezier(.4,0,.2,1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:.15s opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:.1s}.mat-mdc-tab-ripple{position:absolute;inset:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:transparent}.mat-mdc-tab.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab .mdc-tab__ripple:before{content:\"\";display:block;position:absolute;inset:0;opacity:0;pointer-events:none}.mat-mdc-tab .mdc-tab__content{position:relative}.mat-mdc-tab:hover .mdc-tab__ripple:before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple:before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple:before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none!important;animation:none!important}\n"], dependencies: [{ kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.MatRipple, selector: "[mat-ripple], [matRipple]", inputs: ["matRippleColor", "matRippleUnbounded", "matRippleCentered", "matRippleRadius", "matRippleAnimation", "matRippleDisabled", "matRippleTrigger"], exportAs: ["matRipple"] }, { kind: "directive", type: i3.CdkMonitorFocus, selector: "[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]", outputs: ["cdkFocusChange"], exportAs: ["cdkMonitorFocus"] }, { kind: "directive", type: i4.CdkPortalOutlet, selector: "[cdkPortalOutlet]", inputs: ["cdkPortalOutlet"], outputs: ["attached"], exportAs: ["cdkPortalOutlet"] }, { kind: "component", type: i5.MatTabBody, selector: "mat-tab-body" }, { kind: "component", type: i6.MatTabHeader, selector: "mat-tab-header", inputs: ["selectedIndex"], outputs: ["selectFocusedIndex", "indexFocused"] }, { kind: "directive", type: i7.MatTabLabelWrapper, selector: "[matTabLabelWrapper]", inputs: ["disabled", "fitInkBarToContent"] }], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.10", ngImport: i0, type: EsnTabGroup, decorators: [{
            type: Component,
            args: [{ selector: 'esn-tab-group', exportAs: 'esnTabGroup', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, inputs: ['color', 'disableRipple'], providers: [
                        {
                            provide: MAT_TAB_GROUP,
                            useExisting: EsnTabGroup,
                        },
                    ], host: {
                        'class': 'mat-tab-group',
                        '[class.mat-tab-group-dynamic-height]': 'dynamicHeight',
                        '[class.mat-tab-group-inverted-header]': 'headerPosition === "below"',
                        '[class.mat-mdc-tab-group-stretch-tabs]': 'stretchTabs',
                    }, template: "<mat-tab-header\r\n  #tabHeader\r\n  [selectedIndex]=\"selectedIndex || 0\"\r\n  [disableRipple]=\"disableRipple\"\r\n  (indexFocused)=\"_focusChanged($event)\"\r\n  (selectFocusedIndex)=\"selectedIndex = $event\"\r\n>\r\n  <div\r\n    class=\"mdc-tab mat-mdc-tab mat-mdc-focus-indicator\"\r\n    #tabNode\r\n    role=\"tab\"\r\n    matTabLabelWrapper\r\n    cdkMonitorElementFocus\r\n    *ngFor=\"let tab of _tabs; let i = index\"\r\n    [id]=\"_getTabLabelId(i)\"\r\n    [attr.tabIndex]=\"_getTabIndex(i)\"\r\n    [attr.aria-posinset]=\"i + 1\"\r\n    [attr.aria-setsize]=\"_tabs.length\"\r\n    [attr.aria-controls]=\"_getTabContentId(i)\"\r\n    [attr.aria-selected]=\"selectedIndex === i\"\r\n    [attr.aria-label]=\"tab.ariaLabel || null\"\r\n    [attr.aria-labelledby]=\"(!tab.ariaLabel && tab.ariaLabelledby) ? tab.ariaLabelledby : null\"\r\n    [class.mdc-tab--active]=\"selectedIndex === i\"\r\n    [ngClass]=\"tab.labelClass\"\r\n    [disabled]=\"tab.disabled\"\r\n    [fitInkBarToContent]=\"fitInkBarToContent\"\r\n    (click)=\"_handleClick(tab, tabHeader, i)\"\r\n    (cdkFocusChange)=\"_tabFocusChanged($event, i)\"\r\n  >\r\n    <span class=\"mdc-tab__ripple\"></span>\r\n\r\n    <!-- Needs to be a separate element, because we can't put\r\n         `overflow: hidden` on tab due to the ink bar. -->\r\n    <div\r\n      class=\"mat-mdc-tab-ripple\"\r\n      mat-ripple\r\n      [matRippleTrigger]=\"tabNode\"\r\n      [matRippleDisabled]=\"tab.disabled || disableRipple\"\r\n    ></div>\r\n\r\n    <span class=\"mdc-tab__content\">\r\n      <span class=\"mdc-tab__text-label\">\r\n        <!-- If there is a label template, use it. -->\r\n        <ng-template [ngIf]=\"tab.templateLabel\" [ngIfElse]=\"tabTextLabel\">\r\n          <ng-template [cdkPortalOutlet]=\"tab.templateLabel\"></ng-template>\r\n        </ng-template>\r\n\r\n        <!-- If there is not a label template, fall back to the text label. -->\r\n        <ng-template #tabTextLabel>{{tab.textLabel}}</ng-template>\r\n      </span>\r\n    </span>\r\n  </div>\r\n</mat-tab-header>\r\n\r\n<div\r\n  class=\"mat-mdc-tab-body-wrapper\"\r\n  [class._mat-animation-noopable]=\"_animationMode === 'NoopAnimations'\"\r\n  #tabBodyWrapper\r\n>\r\n  <mat-tab-body\r\n    role=\"tabpanel\"\r\n    *ngFor=\"let tab of _tabs; let i = index\"\r\n    [id]=\"_getTabContentId(i)\"\r\n    [attr.tabindex]=\"(contentTabIndex != null && selectedIndex === i) ? contentTabIndex : null\"\r\n    [attr.aria-labelledby]=\"_getTabLabelId(i)\"\r\n    [class.mat-mdc-tab-body-active]=\"selectedIndex === i\"\r\n    [ngClass]=\"tab.bodyClass\"\r\n    [content]=\"tab.content!\"\r\n    [position]=\"tab.position!\"\r\n    [origin]=\"tab.origin\"\r\n    [animationDuration]=\"animationDuration\"\r\n    [preserveContent]=\"preserveContent\"\r\n    (_onCentered)=\"_removeTabBodyWrapperHeight()\"\r\n    (_onCentering)=\"_setTabBodyWrapperHeight($event)\"\r\n  >\r\n  </mat-tab-body>\r\n</div>\r\n", styles: [".mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:.15s color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:.15s color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:.1s}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:.25s transform cubic-bezier(.4,0,.2,1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:.15s opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:.1s}.mat-mdc-tab-ripple{position:absolute;inset:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:transparent}.mat-mdc-tab.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab .mdc-tab__ripple:before{content:\"\";display:block;position:absolute;inset:0;opacity:0;pointer-events:none}.mat-mdc-tab .mdc-tab__content{position:relative}.mat-mdc-tab:hover .mdc-tab__ripple:before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple:before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple:before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none!important;animation:none!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [MAT_TABS_CONFIG]
                }, {
                    type: Optional
                }] }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [ANIMATION_MODULE_TYPE]
                }] }]; }, propDecorators: { _allTabs: [{
                type: ContentChildren,
                args: [EsnTab, { descendants: true }]
            }], _tabBodyWrapper: [{
                type: ViewChild,
                args: ['tabBodyWrapper']
            }], _tabHeader: [{
                type: ViewChild,
                args: ['tabHeader']
            }], fitInkBarToContent: [{
                type: Input
            }], stretchTabs: [{
                type: Input,
                args: ['mat-stretch-tabs']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFiLWdyb3VwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYXJvbS1kb21haW4taXBubi1jOTAtZGVzaWduLWxpYi9zcmMvbGliL2NvbXBvbmVudHMvdGFicy90YWItZ3JvdXAvdGFiLWdyb3VwLnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYXJvbS1kb21haW4taXBubi1jOTAtZGVzaWduLWxpYi9zcmMvbGliL2NvbXBvbmVudHMvdGFicy90YWItZ3JvdXAvdGFiLWdyb3VwLmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFnQixxQkFBcUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzVFLE9BQU8sRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsdUJBQXVCLEVBQUUsZUFBZSxFQUFhLFNBQVMsRUFBaUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxxQkFBcUIsRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDNU0sT0FBTyxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRyxlQUFlLEVBQXNELE1BQU0sd0JBQXdCLENBQUM7QUFDL0ksT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLE9BQU8sQ0FBQzs7Ozs7Ozs7O0FBa0MvQixNQUFNLE9BQU8sV0FBWSxTQUFRLGdCQUFnQjtJQTJCL0MsWUFDRSxVQUFzQixFQUN0QixpQkFBb0MsRUFDQyxhQUE2QixFQUN2QixhQUFzQjtRQUVqRSxLQUFLLENBQUMsVUFBVSxFQUFFLGlCQUFpQixFQUFFLGFBQWEsRUFBRSxhQUFhLENBQUMsQ0FBQztRQW5CM0Qsd0JBQW1CLEdBQUcsS0FBSyxDQUFDO1FBVTVCLGlCQUFZLEdBQUcsSUFBSSxDQUFDO1FBVTVCLElBQUksQ0FBQyxrQkFBa0I7WUFDdkIsYUFBYSxJQUFJLGFBQWEsQ0FBQyxrQkFBa0IsSUFBSSxJQUFJO2dCQUN2RCxDQUFDLENBQUMsYUFBYSxDQUFDLGtCQUFrQjtnQkFDbEMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUNaLENBQUM7SUFqQ0MscUZBQXFGO0lBQ3JGLElBQ0ksa0JBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ2xDLENBQUM7SUFDRCxJQUFJLGtCQUFrQixDQUFDLENBQWU7UUFDcEMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBR0QsMkRBQTJEO0lBQzNELElBQ0ksV0FBVztRQUNiLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUMzQixDQUFDO0lBQ0QsSUFBSSxXQUFXLENBQUMsQ0FBZTtRQUM3QixJQUFJLENBQUMsWUFBWSxHQUFHLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9DLENBQUM7O3lHQXZCUSxXQUFXLDZFQThCWixlQUFlLDZCQUNILHFCQUFxQjs2RkEvQmhDLFdBQVcsZ2JBYlg7UUFDVDtZQUNFLE9BQU8sRUFBRSxhQUFhO1lBQ3RCLFdBQVcsRUFBRSxXQUFXO1NBQ3pCO0tBQ0YsbURBU2dCLE1BQU0sK1NDdEN6Qix3NEZBNkVBOzRGRHhDYSxXQUFXO2tCQXRCdkIsU0FBUzsrQkFDRSxlQUFlLFlBQ2YsYUFBYSxpQkFHUixpQkFBaUIsQ0FBQyxJQUFJLG1CQUVwQix1QkFBdUIsQ0FBQyxPQUFPLFVBQ3hDLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQyxhQUN2Qjt3QkFDVDs0QkFDRSxPQUFPLEVBQUUsYUFBYTs0QkFDdEIsV0FBVyxhQUFhO3lCQUN6QjtxQkFDRixRQUNLO3dCQUNKLE9BQU8sRUFBRSxlQUFlO3dCQUN4QixzQ0FBc0MsRUFBRSxlQUFlO3dCQUN2RCx1Q0FBdUMsRUFBRSw0QkFBNEI7d0JBQ3JFLHdDQUF3QyxFQUFFLGFBQWE7cUJBQ3hEOzswQkFnQ0UsTUFBTTsyQkFBQyxlQUFlOzswQkFBRyxRQUFROzswQkFDakMsUUFBUTs7MEJBQUksTUFBTTsyQkFBQyxxQkFBcUI7NENBOUJHLFFBQVE7c0JBQXJELGVBQWU7dUJBQUMsTUFBTSxFQUFFLEVBQUMsV0FBVyxFQUFFLElBQUksRUFBQztnQkFDZixlQUFlO3NCQUEzQyxTQUFTO3VCQUFDLGdCQUFnQjtnQkFDSCxVQUFVO3NCQUFqQyxTQUFTO3VCQUFDLFdBQVc7Z0JBSWhCLGtCQUFrQjtzQkFEckIsS0FBSztnQkFZRixXQUFXO3NCQURkLEtBQUs7dUJBQUMsa0JBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm9vbGVhbklucHV0LCBjb2VyY2VCb29sZWFuUHJvcGVydHkgfSBmcm9tIFwiQGFuZ3VsYXIvY2RrL2NvZXJjaW9uXCI7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24sIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiwgSW5qZWN0LCBPcHRpb25hbCwgQU5JTUFUSU9OX01PRFVMRV9UWVBFLCBJbnB1dCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IE1BVF9UQUJfR1JPVVAsIF9NYXRUYWJHcm91cEJhc2UsICBNQVRfVEFCU19DT05GSUcsIE1hdFRhYnNDb25maWcsIE1hdFRhYiwgTWF0VGFiSGVhZGVyLCBNYXRUYWJzTW9kdWxlIH0gZnJvbSBcIkBhbmd1bGFyL21hdGVyaWFsL3RhYnNcIjtcclxuaW1wb3J0IHsgRXNuVGFiIH0gZnJvbSBcIi4vdGFiXCI7XHJcblxyXG5cclxuXHJcbmludGVyZmFjZSBNYXRUYWJHcm91cEJhc2VIZWFkZXIge1xyXG4gIF9hbGlnbklua0JhclRvU2VsZWN0ZWRUYWIoKTogdm9pZDtcclxuICB1cGRhdGVQYWdpbmF0aW9uKCk6IHZvaWQ7XHJcbiAgZm9jdXNJbmRleDogbnVtYmVyO1xyXG59XHJcblxyXG5cclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZXNuLXRhYi1ncm91cCcsXHJcbiAgZXhwb3J0QXM6ICdlc25UYWJHcm91cCcsXHJcbiAgdGVtcGxhdGVVcmw6ICd0YWItZ3JvdXAuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJ3RhYi1ncm91cC5zY3NzJ10sXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFsaWRhdGUtZGVjb3JhdG9yc1xyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCxcclxuICBpbnB1dHM6IFsnY29sb3InLCAnZGlzYWJsZVJpcHBsZSddLFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAge1xyXG4gICAgICBwcm92aWRlOiBNQVRfVEFCX0dST1VQLFxyXG4gICAgICB1c2VFeGlzdGluZzogRXNuVGFiR3JvdXAsXHJcbiAgICB9LFxyXG4gIF0sXHJcbiAgaG9zdDoge1xyXG4gICAgJ2NsYXNzJzogJ21hdC10YWItZ3JvdXAnLFxyXG4gICAgJ1tjbGFzcy5tYXQtdGFiLWdyb3VwLWR5bmFtaWMtaGVpZ2h0XSc6ICdkeW5hbWljSGVpZ2h0JyxcclxuICAgICdbY2xhc3MubWF0LXRhYi1ncm91cC1pbnZlcnRlZC1oZWFkZXJdJzogJ2hlYWRlclBvc2l0aW9uID09PSBcImJlbG93XCInLFxyXG4gICAgJ1tjbGFzcy5tYXQtbWRjLXRhYi1ncm91cC1zdHJldGNoLXRhYnNdJzogJ3N0cmV0Y2hUYWJzJyxcclxuICB9LFxyXG59KVxyXG5leHBvcnQgY2xhc3MgRXNuVGFiR3JvdXAgZXh0ZW5kcyBfTWF0VGFiR3JvdXBCYXNlIHtcclxuICBAQ29udGVudENoaWxkcmVuKEVzblRhYiwge2Rlc2NlbmRhbnRzOiB0cnVlfSkgX2FsbFRhYnM6IFF1ZXJ5TGlzdDxNYXRUYWI+O1xyXG4gIEBWaWV3Q2hpbGQoJ3RhYkJvZHlXcmFwcGVyJykgX3RhYkJvZHlXcmFwcGVyOiBFbGVtZW50UmVmO1xyXG4gIEBWaWV3Q2hpbGQoJ3RhYkhlYWRlcicpIF90YWJIZWFkZXI6IE1hdFRhYkdyb3VwQmFzZUhlYWRlcjtcclxuXHJcbiAgICAvKiogV2hldGhlciB0aGUgaW5rIGJhciBzaG91bGQgZml0IGl0cyB3aWR0aCB0byB0aGUgc2l6ZSBvZiB0aGUgdGFiIGxhYmVsIGNvbnRlbnQuICovXHJcbiAgICBASW5wdXQoKVxyXG4gICAgZ2V0IGZpdElua0JhclRvQ29udGVudCgpOiBib29sZWFuIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2ZpdElua0JhclRvQ29udGVudDtcclxuICAgIH1cclxuICAgIHNldCBmaXRJbmtCYXJUb0NvbnRlbnQodjogQm9vbGVhbklucHV0KSB7XHJcbiAgICAgIHRoaXMuX2ZpdElua0JhclRvQ29udGVudCA9IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSh2KTtcclxuICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF9maXRJbmtCYXJUb0NvbnRlbnQgPSBmYWxzZTtcclxuICBcclxuICAgIC8qKiBXaGV0aGVyIHRhYnMgc2hvdWxkIGJlIHN0cmV0Y2hlZCB0byBmaWxsIHRoZSBoZWFkZXIuICovXHJcbiAgICBASW5wdXQoJ21hdC1zdHJldGNoLXRhYnMnKVxyXG4gICAgZ2V0IHN0cmV0Y2hUYWJzKCk6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc3RyZXRjaFRhYnM7XHJcbiAgICB9XHJcbiAgICBzZXQgc3RyZXRjaFRhYnModjogQm9vbGVhbklucHV0KSB7XHJcbiAgICAgIHRoaXMuX3N0cmV0Y2hUYWJzID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHYpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfc3RyZXRjaFRhYnMgPSB0cnVlO1xyXG5cclxuICAgIFxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZWxlbWVudFJlZjogRWxlbWVudFJlZixcclxuICAgIGNoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcclxuICAgIEBJbmplY3QoTUFUX1RBQlNfQ09ORklHKSBAT3B0aW9uYWwoKSBkZWZhdWx0Q29uZmlnPzogTWF0VGFic0NvbmZpZyxcclxuICAgIEBPcHRpb25hbCgpIEBJbmplY3QoQU5JTUFUSU9OX01PRFVMRV9UWVBFKSBhbmltYXRpb25Nb2RlPzogc3RyaW5nLFxyXG4gICkge1xyXG4gICAgc3VwZXIoZWxlbWVudFJlZiwgY2hhbmdlRGV0ZWN0b3JSZWYsIGRlZmF1bHRDb25maWcsIGFuaW1hdGlvbk1vZGUpO1xyXG4gICAgdGhpcy5maXRJbmtCYXJUb0NvbnRlbnQgPVxyXG4gICAgZGVmYXVsdENvbmZpZyAmJiBkZWZhdWx0Q29uZmlnLmZpdElua0JhclRvQ29udGVudCAhPSBudWxsXHJcbiAgICAgID8gZGVmYXVsdENvbmZpZy5maXRJbmtCYXJUb0NvbnRlbnRcclxuICAgICAgOiBmYWxzZTtcclxuICB9XHJcblxyXG59XHJcbiIsIjxtYXQtdGFiLWhlYWRlclxyXG4gICN0YWJIZWFkZXJcclxuICBbc2VsZWN0ZWRJbmRleF09XCJzZWxlY3RlZEluZGV4IHx8IDBcIlxyXG4gIFtkaXNhYmxlUmlwcGxlXT1cImRpc2FibGVSaXBwbGVcIlxyXG4gIChpbmRleEZvY3VzZWQpPVwiX2ZvY3VzQ2hhbmdlZCgkZXZlbnQpXCJcclxuICAoc2VsZWN0Rm9jdXNlZEluZGV4KT1cInNlbGVjdGVkSW5kZXggPSAkZXZlbnRcIlxyXG4+XHJcbiAgPGRpdlxyXG4gICAgY2xhc3M9XCJtZGMtdGFiIG1hdC1tZGMtdGFiIG1hdC1tZGMtZm9jdXMtaW5kaWNhdG9yXCJcclxuICAgICN0YWJOb2RlXHJcbiAgICByb2xlPVwidGFiXCJcclxuICAgIG1hdFRhYkxhYmVsV3JhcHBlclxyXG4gICAgY2RrTW9uaXRvckVsZW1lbnRGb2N1c1xyXG4gICAgKm5nRm9yPVwibGV0IHRhYiBvZiBfdGFiczsgbGV0IGkgPSBpbmRleFwiXHJcbiAgICBbaWRdPVwiX2dldFRhYkxhYmVsSWQoaSlcIlxyXG4gICAgW2F0dHIudGFiSW5kZXhdPVwiX2dldFRhYkluZGV4KGkpXCJcclxuICAgIFthdHRyLmFyaWEtcG9zaW5zZXRdPVwiaSArIDFcIlxyXG4gICAgW2F0dHIuYXJpYS1zZXRzaXplXT1cIl90YWJzLmxlbmd0aFwiXHJcbiAgICBbYXR0ci5hcmlhLWNvbnRyb2xzXT1cIl9nZXRUYWJDb250ZW50SWQoaSlcIlxyXG4gICAgW2F0dHIuYXJpYS1zZWxlY3RlZF09XCJzZWxlY3RlZEluZGV4ID09PSBpXCJcclxuICAgIFthdHRyLmFyaWEtbGFiZWxdPVwidGFiLmFyaWFMYWJlbCB8fCBudWxsXCJcclxuICAgIFthdHRyLmFyaWEtbGFiZWxsZWRieV09XCIoIXRhYi5hcmlhTGFiZWwgJiYgdGFiLmFyaWFMYWJlbGxlZGJ5KSA/IHRhYi5hcmlhTGFiZWxsZWRieSA6IG51bGxcIlxyXG4gICAgW2NsYXNzLm1kYy10YWItLWFjdGl2ZV09XCJzZWxlY3RlZEluZGV4ID09PSBpXCJcclxuICAgIFtuZ0NsYXNzXT1cInRhYi5sYWJlbENsYXNzXCJcclxuICAgIFtkaXNhYmxlZF09XCJ0YWIuZGlzYWJsZWRcIlxyXG4gICAgW2ZpdElua0JhclRvQ29udGVudF09XCJmaXRJbmtCYXJUb0NvbnRlbnRcIlxyXG4gICAgKGNsaWNrKT1cIl9oYW5kbGVDbGljayh0YWIsIHRhYkhlYWRlciwgaSlcIlxyXG4gICAgKGNka0ZvY3VzQ2hhbmdlKT1cIl90YWJGb2N1c0NoYW5nZWQoJGV2ZW50LCBpKVwiXHJcbiAgPlxyXG4gICAgPHNwYW4gY2xhc3M9XCJtZGMtdGFiX19yaXBwbGVcIj48L3NwYW4+XHJcblxyXG4gICAgPCEtLSBOZWVkcyB0byBiZSBhIHNlcGFyYXRlIGVsZW1lbnQsIGJlY2F1c2Ugd2UgY2FuJ3QgcHV0XHJcbiAgICAgICAgIGBvdmVyZmxvdzogaGlkZGVuYCBvbiB0YWIgZHVlIHRvIHRoZSBpbmsgYmFyLiAtLT5cclxuICAgIDxkaXZcclxuICAgICAgY2xhc3M9XCJtYXQtbWRjLXRhYi1yaXBwbGVcIlxyXG4gICAgICBtYXQtcmlwcGxlXHJcbiAgICAgIFttYXRSaXBwbGVUcmlnZ2VyXT1cInRhYk5vZGVcIlxyXG4gICAgICBbbWF0UmlwcGxlRGlzYWJsZWRdPVwidGFiLmRpc2FibGVkIHx8IGRpc2FibGVSaXBwbGVcIlxyXG4gICAgPjwvZGl2PlxyXG5cclxuICAgIDxzcGFuIGNsYXNzPVwibWRjLXRhYl9fY29udGVudFwiPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cIm1kYy10YWJfX3RleHQtbGFiZWxcIj5cclxuICAgICAgICA8IS0tIElmIHRoZXJlIGlzIGEgbGFiZWwgdGVtcGxhdGUsIHVzZSBpdC4gLS0+XHJcbiAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ0lmXT1cInRhYi50ZW1wbGF0ZUxhYmVsXCIgW25nSWZFbHNlXT1cInRhYlRleHRMYWJlbFwiPlxyXG4gICAgICAgICAgPG5nLXRlbXBsYXRlIFtjZGtQb3J0YWxPdXRsZXRdPVwidGFiLnRlbXBsYXRlTGFiZWxcIj48L25nLXRlbXBsYXRlPlxyXG4gICAgICAgIDwvbmctdGVtcGxhdGU+XHJcblxyXG4gICAgICAgIDwhLS0gSWYgdGhlcmUgaXMgbm90IGEgbGFiZWwgdGVtcGxhdGUsIGZhbGwgYmFjayB0byB0aGUgdGV4dCBsYWJlbC4gLS0+XHJcbiAgICAgICAgPG5nLXRlbXBsYXRlICN0YWJUZXh0TGFiZWw+e3t0YWIudGV4dExhYmVsfX08L25nLXRlbXBsYXRlPlxyXG4gICAgICA8L3NwYW4+XHJcbiAgICA8L3NwYW4+XHJcbiAgPC9kaXY+XHJcbjwvbWF0LXRhYi1oZWFkZXI+XHJcblxyXG48ZGl2XHJcbiAgY2xhc3M9XCJtYXQtbWRjLXRhYi1ib2R5LXdyYXBwZXJcIlxyXG4gIFtjbGFzcy5fbWF0LWFuaW1hdGlvbi1ub29wYWJsZV09XCJfYW5pbWF0aW9uTW9kZSA9PT0gJ05vb3BBbmltYXRpb25zJ1wiXHJcbiAgI3RhYkJvZHlXcmFwcGVyXHJcbj5cclxuICA8bWF0LXRhYi1ib2R5XHJcbiAgICByb2xlPVwidGFicGFuZWxcIlxyXG4gICAgKm5nRm9yPVwibGV0IHRhYiBvZiBfdGFiczsgbGV0IGkgPSBpbmRleFwiXHJcbiAgICBbaWRdPVwiX2dldFRhYkNvbnRlbnRJZChpKVwiXHJcbiAgICBbYXR0ci50YWJpbmRleF09XCIoY29udGVudFRhYkluZGV4ICE9IG51bGwgJiYgc2VsZWN0ZWRJbmRleCA9PT0gaSkgPyBjb250ZW50VGFiSW5kZXggOiBudWxsXCJcclxuICAgIFthdHRyLmFyaWEtbGFiZWxsZWRieV09XCJfZ2V0VGFiTGFiZWxJZChpKVwiXHJcbiAgICBbY2xhc3MubWF0LW1kYy10YWItYm9keS1hY3RpdmVdPVwic2VsZWN0ZWRJbmRleCA9PT0gaVwiXHJcbiAgICBbbmdDbGFzc109XCJ0YWIuYm9keUNsYXNzXCJcclxuICAgIFtjb250ZW50XT1cInRhYi5jb250ZW50IVwiXHJcbiAgICBbcG9zaXRpb25dPVwidGFiLnBvc2l0aW9uIVwiXHJcbiAgICBbb3JpZ2luXT1cInRhYi5vcmlnaW5cIlxyXG4gICAgW2FuaW1hdGlvbkR1cmF0aW9uXT1cImFuaW1hdGlvbkR1cmF0aW9uXCJcclxuICAgIFtwcmVzZXJ2ZUNvbnRlbnRdPVwicHJlc2VydmVDb250ZW50XCJcclxuICAgIChfb25DZW50ZXJlZCk9XCJfcmVtb3ZlVGFiQm9keVdyYXBwZXJIZWlnaHQoKVwiXHJcbiAgICAoX29uQ2VudGVyaW5nKT1cIl9zZXRUYWJCb2R5V3JhcHBlckhlaWdodCgkZXZlbnQpXCJcclxuICA+XHJcbiAgPC9tYXQtdGFiLWJvZHk+XHJcbjwvZGl2PlxyXG4iXX0=